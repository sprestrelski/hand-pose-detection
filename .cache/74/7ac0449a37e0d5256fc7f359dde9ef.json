{"id":"ugST","dependencies":[{"name":"C:\\Users\\saman\\OneDrive\\Documents\\GitHub\\hand-pose-detection\\demos\\live_video\\package.json","includedInParent":true,"mtime":1681608596899},{"name":"C:\\Users\\saman\\OneDrive\\Documents\\GitHub\\hand-pose-detection\\demos\\live_video\\.babelrc","includedInParent":true,"mtime":1681607266813},{"name":"C:\\Users\\saman\\OneDrive\\Documents\\GitHub\\hand-pose-detection\\demos\\live_video\\node_modules\\@tensorflow\\tfjs-backend-webgl\\package.json","includedInParent":true,"mtime":1681608531672},{"name":"./shader_compiler","loc":{"line":17,"column":34},"parent":"C:\\Users\\saman\\OneDrive\\Documents\\GitHub\\hand-pose-detection\\demos\\live_video\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\scatter_gpu.js","resolved":"C:\\Users\\saman\\OneDrive\\Documents\\GitHub\\hand-pose-detection\\demos\\live_video\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\shader_compiler.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ScatterProgram=void 0;var e=require(\"./shader_compiler\");class t{constructor(t,n,o,s,r,d,i=!0,a=!1){this.variableNames=[\"updates\",\"indices\",\"defaultValue\"],this.outputShape=d;const u=(0,e.getCoordsDataType)(r.length),l=(0,e.getCoordsDataType)(d.length);let c=\"\";1===o?c=\"i\":2===o&&(c=\"i, j\");const f=`getIndices(${c})`;let p=\"\";1===s?p=\"i\":2===s&&(p=\"i, coords[1]\");const $=`getUpdates(${p})`;let g=\"\";a&&(g=\"coords[0], coords[1]\");const m=`getDefaultValue(${g})`,x=n>1?\"strides[j]\":\"strides\";this.userCode=`\\n        ${u} strides = ${u}(${r});\\n\\n        void main() {\\n          ${l} coords = getOutputCoords();\\n          float sum = 0.0;\\n          bool found = false;\\n          for (int i = 0; i < ${t}; i++) {\\n            int flattenedIndex = 0;\\n            for (int j = 0; j < ${n}; j++) {\\n              int index = round(${f});\\n              flattenedIndex += index * ${x};\\n            }\\n            if (flattenedIndex == coords[0]) {\\n              sum += ${$};\\n              found = true;\\n            }\\n          }\\n          setOutput(mix(${m}, sum, float(found)));\\n        }\\n      `}}exports.ScatterProgram=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":0}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":13}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":20}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":35}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":43}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":56}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":57}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":64}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":68}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":76}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":96}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":98}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":102}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":104}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":112}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":1,"column":133}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":1,"column":139}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":141}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":153}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":27,"column":26},"generated":{"line":1,"column":155}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":27,"column":44},"generated":{"line":1,"column":157}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":1,"column":159}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":28,"column":27},"generated":{"line":1,"column":161}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":28,"column":46},"generated":{"line":1,"column":163}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":29,"column":6},"generated":{"line":1,"column":165}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":1,"column":168}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":170}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":29,"column":49},"generated":{"line":1,"column":173}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":176}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":181}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":22,"column":18},"generated":{"line":1,"column":195}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":22,"column":19},"generated":{"line":1,"column":196}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":22,"column":30},"generated":{"line":1,"column":206}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":22,"column":41},"generated":{"line":1,"column":216}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":232}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":237}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":30,"column":23},"generated":{"line":1,"column":249}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":251}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":257}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":1,"column":260}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":31,"column":42},"generated":{"line":1,"column":262}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":31,"column":42},"generated":{"line":1,"column":264}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":31,"column":42},"generated":{"line":1,"column":283}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":31,"column":50},"generated":{"line":1,"column":285}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":32,"column":10},"generated":{"line":1,"column":293}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":32,"column":18},"generated":{"line":1,"column":296}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":32,"column":36},"generated":{"line":1,"column":298}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":32,"column":36},"generated":{"line":1,"column":300}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":32,"column":36},"generated":{"line":1,"column":319}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":32,"column":42},"generated":{"line":1,"column":321}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":329}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":333}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":335}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":34,"column":24},"generated":{"line":1,"column":338}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":342}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":344}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":35,"column":22},"generated":{"line":1,"column":346}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":36,"column":31},"generated":{"line":1,"column":350}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":36,"column":15},"generated":{"line":1,"column":354}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":358}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":1,"column":360}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":368}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":374}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":39,"column":41},"generated":{"line":1,"column":390}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":395}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":399}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":41,"column":24},"generated":{"line":1,"column":401}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":42,"column":24},"generated":{"line":1,"column":404}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":408}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":410}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":1,"column":412}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":44,"column":31},"generated":{"line":1,"column":416}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":44,"column":15},"generated":{"line":1,"column":420}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":45,"column":6},"generated":{"line":1,"column":424}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":45,"column":22},"generated":{"line":1,"column":426}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":47,"column":10},"generated":{"line":1,"column":442}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":47,"column":10},"generated":{"line":1,"column":448}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":47,"column":41},"generated":{"line":1,"column":464}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":469}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":473}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":49,"column":30},"generated":{"line":1,"column":475}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":478}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":482}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":51,"column":28},"generated":{"line":1,"column":484}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":53,"column":10},"generated":{"line":1,"column":508}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":53,"column":10},"generated":{"line":1,"column":514}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":53,"column":51},"generated":{"line":1,"column":535}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":55,"column":10},"generated":{"line":1,"column":540}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":55,"column":25},"generated":{"line":1,"column":542}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":55,"column":36},"generated":{"line":1,"column":544}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":55,"column":40},"generated":{"line":1,"column":546}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":55,"column":55},"generated":{"line":1,"column":559}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":569}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":574}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":596}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":57,"column":35},"generated":{"line":1,"column":611}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":57,"column":50},"generated":{"line":1,"column":616}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":1,"column":659}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":782}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":65,"column":34},"generated":{"line":1,"column":865}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":66,"column":34},"generated":{"line":1,"column":911}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":67,"column":42},"generated":{"line":1,"column":959}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":70,"column":23},"generated":{"line":1,"column":1050}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":74,"column":26},"generated":{"line":1,"column":1138}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":1184}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":1192}},{"source":"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts","name":null,"original":{"line":21,"column":27},"generated":{"line":1,"column":1207}}],"sources":{"../../../../../tfjs-backend-webgl/src/scatter_gpu.ts":"/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {GPGPUProgram} from './gpgpu_math';\nimport {getCoordsDataType} from './shader_compiler';\n\nexport class ScatterProgram implements GPGPUProgram {\n  variableNames = ['updates', 'indices', 'defaultValue'];\n  outputShape: number[];\n  userCode: string;\n\n  constructor(\n      updateSize: number, sliceDim: number, indicesRank: number,\n      updatesRank: number, strides: number[], shape: number[],\n      summingDupeIndex = true, defaultIsTensor = false) {\n    this.outputShape = shape;\n    const stridesType = getCoordsDataType(strides.length);\n    const dtype = getCoordsDataType(shape.length);\n    let indicesString = '';\n    if (indicesRank === 1) {\n      indicesString = 'i';\n    } else if (indicesRank === 2) {\n      indicesString = 'i, j';\n    }\n    const indicesSnippet = `getIndices(${indicesString})`;\n\n    let updatesString = '';\n    if (updatesRank === 1) {\n      updatesString = 'i';\n    } else if (updatesRank === 2) {\n      updatesString = 'i, coords[1]';\n    }\n    const updatesSnippet = `getUpdates(${updatesString})`;\n\n    let defaultValuesString = '';\n    if (defaultIsTensor) {\n      defaultValuesString = 'coords[0], coords[1]';\n    }\n    const defaultValueSnippet = `getDefaultValue(${defaultValuesString})`;\n\n    const strideString = sliceDim > 1 ? 'strides[j]' : 'strides';\n    this.userCode = `\n        ${stridesType} strides = ${stridesType}(${strides});\n\n        void main() {\n          ${dtype} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${updateSize}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${sliceDim}; j++) {\n              int index = round(${indicesSnippet});\n              flattenedIndex += index * ${strideString};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${updatesSnippet};\n              found = true;\n            }\n          }\n          setOutput(mix(${defaultValueSnippet}, sum, float(found)));\n        }\n      `;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"3294876dad8ab366943c9ef1ebc4494b","cacheData":{"env":{}}}